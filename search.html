<!DOCTYPE html>
<html lang="en">
<head>
	<title>GameSpace</title>
	    <meta charset="UTF-8">
    <meta name="description" content="GameSpace">
    <meta name="keywords" content="Game">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favicon -->   
    <link href="img/favicon.ico" rel="shortcut icon"/>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,500,500i,700,700i" rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/font-awesome.min.css"/>
    <link rel="stylesheet" href="css/owl.carousel.css"/>
    <link rel="stylesheet" href="css/style.css"/>
    <link rel="stylesheet" href="css/animate.css"/>

    <link rel="stylesheet" href="css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="css/plyr.css" type="text/css">
    <link rel="stylesheet" href="css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">

    <script src="lib/axios/dist/axios.standalone.js"></script>
    <script src="lib/CryptoJS/rollups/hmac-sha256.js"></script>
    <script src="lib/CryptoJS/rollups/sha256.js"></script>
    <script src="lib/CryptoJS/components/hmac.js"></script>
    <script src="lib/CryptoJS/components/enc-base64.js"></script>
    <script src="lib/url-template/url-template.js"></script>
    <script src="lib/apiGatewayCore/sigV4Client.js"></script>
    <script src="lib/apiGatewayCore/apiGatewayClient.js"></script>
    <script src="lib/apiGatewayCore/simpleHttpClient.js"></script>
    <script src="lib/apiGatewayCore/utils.js"></script>
    <script src="function.js"></script>



	<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

</head>
<body>
	<!-- Page Preloder -->
	<div id="preloder">
		<div class="loader"></div>
	</div>

	<!-- Header section -->
    <header class="header-section">
    <div class="container">
            <!-- logo -->
            <a class="site-logo" href="index.html">
                <img src="img/logo.png" alt="">
            </a>

            <!-- responsive -->
            <div class="nav-switch">
                <i class="fa fa-bars"></i>
            </div>
            <!-- site menu -->
            <nav class="main-menu">
                <ul>
                    <li><a href="userpage.html">Home</a></li>
                    <li><a href="review.html">Games</a></li>
                    <li><a href="community.html">Forums</a></li>
                    <li><a href="search.html">Search</a></li>
            </nav>
            <div class="searchcy-panel">
                <form class="search-model-form">
                     <input type="text" id="search-input" placeholder="Search here....." style="width: 300px;">
                </form>
                <a href="./search.html" class="search-switch"><span class="icon_search"></span></a>
                <b> asasdasdd </span></b>
                <a href="./userpage.html"><span class="icon_profile" style="margin-left: 200px;"></span></a>
            </div>
        </div>
    </header>
	<!-- Header section end -->




	<!-- Page info section -->
	<section class="page-info-section set-bg" data-setbg="img/page-top-bg/5.jpg">
		<div class="pi-content">
			<div class="container">
				<div class="row">
					<div class="col-xl-5 col-lg-6 text-white">
						<h2>Here is what we found for you!</h2>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- Page info section -->


	<!-- Page section -->
	<section class="page-section spad search-page">
		<div class="container">
			<div class="row">
				<div class="col-lg-8">
					<div class="search-form-warp">
						<h4 class="comment-title">Search what you like:</h4>
						<form class="comment-form">
							<div class="row">
								<div class="col-lg-12">
									<input id = "search_input" type="text" placeholder="find some games by tag...  Ex: Singleplayer, Action, Multiplayer, Adventure, Simulation, Casual, Open World">
									<!-- <button onclick="search()" type="button" class="site-btn btn-sm">Search By Tag</button> -->
								</div>
							</div>
						</form>

						<form class="comment-form">
							<div class="row">
								<div class="col-lg-12">
									<input id = "search_input2" type="text" placeholder="find some games by name...">
									<button onclick="search()" type="button" class="site-btn btn-sm">Search</button>
								</div>
							</div>
						</form>
					</div>
					<div class="col-lg-4 mb-5 mb-lg-0" style = "margin-top: 20px;margin-left: -15px;">
						<h4  class="comment-title">Result:</h4>
							<h4 id = "result"></h4>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- Page section end -->
	
		<!-- Footer top section -->
		<section class="footer-top-section">
			<div class="container">
				<div class="footer-top-bg">
					<img src="img/gs_icon.png" alt=""  height="250" width="250" style="margin-bottom: 50px;margin-left: 430px;">
				</div>
				<div class="row">
					<div class="col-lg-4">
						<div class="footer-logo text-white">
							<img src="img/gs-logo.png" alt="">
						</div>
				</div>
			</div>
		</section>
		<!-- Footer top section end -->

	
	<!-- Footer section -->
	<footer class="footer-section">
		<div class="container">
			<ul class="footer-menu">
				<li><a href="userpage.html">Home</a></li>
				<li><a href="review.html">Games</a></li>
				 
				<li><a href="community.html">Forums</a></li>
				<li><a href="search.html">Search</a></li>
		</div>
	</footer>
	<!-- Footer section end -->


	<!--====== Javascripts & Jquery ======-->
	<script src="js/jquery-3.2.1.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/owl.carousel.min.js"></script>
	<script src="js/jquery.marquee.min.js"></script>
	<script src="js/main.js"></script>
	<script src="apigClient.js"></script>
	<script>
		function search() {		
			var search_input = document.getElementById("search_input").value;	
			var search_input2 = document.getElementById("search_input2").value;	

			console.log("search_input",search_input)
			var apigClient = apigClientFactory.newClient({apiKey: "hpUV56GBup3D38aMb236J89YtbiZvRqD5FsIkibC"});
			var params = {
				"tag":search_input,
				"gamename":search_input2
			};
			var body = {
				"tag":search_input,
				"gamename":search_input2
			};
			var additionalParams = {headers: {'Content-Type':"application/json"}, queryParams: {"tag":search_input,"gamename":search_input2}};

			apigClient.searchPost(params, body, additionalParams)
			    .then(function (result) {
			      console.log('@apigClient_searchGet success');
			      console.log(result);
			      showtext1(result.data.body);
			    }).catch(function (result) {
			      console.log("failed..searchGet.");
			      console.log(result);
			    });
			document.getElementById("search_input").value = "";
		}

		function showtext1(result){
			var insert_loc = document.getElementById('result');
			// var newDiv = document.getElementById("text");
			console.log("@showtext, result is",result);
			// var res = JSON.parse(result);
		    var str2 = "Game";
		    for (i=0; i<result.length; i++){
		    	console.log("@,",result[i]);
		    	var name = result[i].Name;
		    	var img = result[i].Image;
		    	var URL = result[i].URL;
		    	var Price = result[i].Price;
		    	var Reviews = result[i].Reviews;

		    	var j = i+1;
		    	console.log("name", name);
		  //   	var str1 = '<h8>' + name + '</h8>';
				// var str2 = '<h8>' + img + '</h8>';
 			// 	var str3 = '<h8>' + URL + '</h8>';
 				var str1 = '<p>' + str2 + ' '+ j +':'+ '&emsp;'+ '<a href='+ URL +'>' +name + '<br> </a> </p>'+ '<p> Price: '+ Price+'</p>'+ '<p> <a href=' + img +'>' + "Click to see image" + '<br> </a> </p>' +'<p> Review: ' + Reviews+' </p>' + '<p> <br> </p>';
				// var str1 = '<p>' + '<br> </p>' + '<p>'+ name + '<br>  </p>' +'<p>' + img + '<br>  </p>'+'<p>' + URL + ' <br> </p>';

				insert_loc.insertAdjacentHTML('beforeend', str1);
				// insert_loc.insertAdjacentHTML('afterend', str2);
				// insert_loc.insertAdjacentHTML('afterend', str3);
			}
		}
	</script>

    </body>
</html>